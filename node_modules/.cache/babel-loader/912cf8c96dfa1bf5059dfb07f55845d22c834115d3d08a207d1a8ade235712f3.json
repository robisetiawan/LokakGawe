{"ast":null,"code":"import _defineProperty from\"D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link,useNavigate,useParams}from\"react-router-dom\";import Navigation from\"../../components/Navigation\";import axios from\"axios\";import Cookies from\"js-cookie\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),params=_useState4[0],setParams=_useState4[1];// let { status } = useParams();\nvar handleChange=function handleChange(params){return setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},params.target.name,params.target.value)));};var handleSubmit=function handleSubmit(params){params.preventDefault();var email=input.email,password=input.password;axios.post(\"https://dev-example.sanbercloud.com/api/login \",{email:email,password:password}).then(function(res){var data=res.data;// console.log(data);\nvar token=data.token,user=data.user;// console.log(token);\nCookies.set(\"token\",token,{expires:1});//expired 1 hari\nCookies.set(\"user_data\",JSON.stringify(user),{expires:1});// console.log(data.token);\nnavigate(\"/dashboard\");}).catch(function(err){alert(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{}),params!==null?\"ada\":console.log(\"tidak ada\"),/*#__PURE__*/_jsx(\"section\",{className:\"flex justify-center items-center w-full h-screen\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"border border-secondary rounded-xl py-5 px-20 text-center space-y-3 mx-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-primary text-xl\",children:\"Login\"}),params!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex p-4 mb-4 text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-circle-check\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Info\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-3 text-sm font-medium\",children:\"Account created successfully\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"ml-auto -mx-1.5 -my-1.5 bg-green-50 text-green-500 rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 hover:bg-green-200 inline-flex h-8 w-8 dark:bg-gray-800 dark:text-green-400 dark:hover:bg-gray-700\",\"data-dismiss-target\":\"#alert-3\",\"aria-label\":\"Close\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close\"}),/*#__PURE__*/_jsx(\"svg\",{\"aria-hidden\":\"true\",className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\"clip-rule\":\"evenodd\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"text-left block mb-2 text-sm font-semibold text-secondary\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-secondary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"email\",value:input.email,type:\"email\",id:\"email\",className:\"bg-quaternary border-quaternary text-secondary text-sm rounded-lg focus:ring-secondary focus:border-secondary block w-full pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",required:true,placeholder:\"your email\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"text-left block mb-2 text-sm font-semibold text-secondary \",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-secondary \",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-lock\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"password\",value:input.password,type:\"password\",id:\"password\",className:\"bg-quaternary border-quaternary text-secondary text-sm rounded-lg focus:ring-secondary focus:border-secondary block w-full pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",required:true,placeholder:\"your password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"py-2 px-4 border-2 hover:bg-quaternary hover:text-primary text-quaternary bg-primary rounded-lg ease-in-out transition duration-700\",children:\"Login\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-primary\",children:[\"Don't have an account ?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"font-bold\",children:\"Register\"})]})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","useParams","Navigation","axios","Cookies","Login","navigate","email","password","input","setInput","params","setParams","handleChange","target","name","value","handleSubmit","preventDefault","post","then","res","data","token","user","set","expires","JSON","stringify","catch","err","alert","console","log"],"sources":["D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/src/pages/login-register/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport Navigation from \"../../components/Navigation\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst Login = () => {\r\n    const navigate = useNavigate();\r\n\r\n    const [input, setInput] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const [params, setParams] = useState(null);\r\n\r\n    // let { status } = useParams();\r\n\r\n    const handleChange = (params) => setInput({ ...input, [params.target.name]: params.target.value });\r\n\r\n    const handleSubmit = (params) => {\r\n        params.preventDefault();\r\n\r\n        let { email, password } = input;\r\n\r\n        axios\r\n            .post(\"https://dev-example.sanbercloud.com/api/login \", { email, password })\r\n            .then((res) => {\r\n                let { data } = res;\r\n                // console.log(data);\r\n                let { token, user } = data;\r\n                // console.log(token);\r\n                Cookies.set(\"token\", token, { expires: 1 }); //expired 1 hari\r\n                Cookies.set(\"user_data\", JSON.stringify(user), { expires: 1 });\r\n                // console.log(data.token);\r\n                navigate(\"/dashboard\");\r\n            })\r\n            .catch((err) => {\r\n                alert(err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navigation />\r\n            {params !== null ? \"ada\" : console.log(\"tidak ada\")}\r\n\r\n            <section className=\"flex justify-center items-center w-full h-screen\">\r\n                <form onSubmit={handleSubmit} className=\"border border-secondary rounded-xl py-5 px-20 text-center space-y-3 mx-4\">\r\n                    <h1 className=\"font-bold text-primary text-xl\">Login</h1>\r\n                    {params !== null && (\r\n                        <div className=\"flex p-4 mb-4 text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400\" role=\"alert\">\r\n                            <i className=\"fa-solid fa-circle-check\"></i>\r\n                            <span className=\"sr-only\">Info</span>\r\n                            <div className=\"mx-3 text-sm font-medium\">Account created successfully</div>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"ml-auto -mx-1.5 -my-1.5 bg-green-50 text-green-500 rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 hover:bg-green-200 inline-flex h-8 w-8 dark:bg-gray-800 dark:text-green-400 dark:hover:bg-gray-700\"\r\n                                data-dismiss-target=\"#alert-3\"\r\n                                aria-label=\"Close\"\r\n                            >\r\n                                <span className=\"sr-only\">Close</span>\r\n                                <svg aria-hidden=\"true\" className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path\r\n                                        fill-rule=\"evenodd\"\r\n                                        d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\r\n                                        clip-rule=\"evenodd\"\r\n                                    ></path>\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <label htmlFor=\"email\" className=\"text-left block mb-2 text-sm font-semibold text-secondary\">\r\n                            Email\r\n                        </label>\r\n                        <div className=\"relative mb-6\">\r\n                            <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-secondary\">\r\n                                <i className=\"fa-solid fa-user\"></i>\r\n                            </div>\r\n                            <input\r\n                                onChange={handleChange}\r\n                                name={\"email\"}\r\n                                value={input.email}\r\n                                type=\"email\"\r\n                                id=\"email\"\r\n                                className=\"bg-quaternary border-quaternary text-secondary text-sm rounded-lg focus:ring-secondary focus:border-secondary block w-full pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                                required\r\n                                placeholder=\"your email\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"password\" className=\"text-left block mb-2 text-sm font-semibold text-secondary \">\r\n                            Password\r\n                        </label>\r\n                        <div className=\"relative mb-6\">\r\n                            <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-secondary \">\r\n                                <i className=\"fa-solid fa-lock\"></i>\r\n                            </div>\r\n                            <input\r\n                                onChange={handleChange}\r\n                                name={\"password\"}\r\n                                value={input.password}\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                className=\"bg-quaternary border-quaternary text-secondary text-sm rounded-lg focus:ring-secondary focus:border-secondary block w-full pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                                required\r\n                                placeholder=\"your password\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <button className=\"py-2 px-4 border-2 hover:bg-quaternary hover:text-primary text-quaternary bg-primary rounded-lg ease-in-out transition duration-700\">Login</button>\r\n                    </div>\r\n                    <div className=\"text-primary\">\r\n                        Don't have an account ?{\" \"}\r\n                        <Link to=\"/register\" className=\"font-bold\">\r\n                            Register\r\n                        </Link>\r\n                    </div>\r\n                </form>\r\n            </section>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}