{"ast":null,"code":"import _defineProperty from\"D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import Cookies from\"js-cookie\";import React,{createContext,useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";export var GlobalContext=/*#__PURE__*/createContext();export var GlobalProvider=function GlobalProvider(props){var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState({title:\"\",company_image_url:\"\",job_description:\"\",job_qualification:\"\",job_type:\"\",job_tenure:\"\",job_status:0,company_name:\"\",company_city:\"\",salary_min:0,salary_max:0}),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),fetchStatus=_useState6[0],setFetchStatus=_useState6[1];var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),currentId=_useState8[0],setCurrentId=_useState8[1];// handleFunction\nvar handleInput=function handleInput(event){var name=event.target.name;var value=event.target.value;setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},name,value)));};var handleEdit=function handleEdit(event){var idData=parseInt(event.target.value);setCurrentId(idData);navigate(\"/dashboard/list-job-vacancy/form/\".concat(idData));axios.get(\"https://dev-example.sanbercloud.com/api/job-vacancy/\".concat(idData)).then(function(res){var data=res.data;setInput({title:data.title,company_image_url:data.company_image_url,job_description:data.job_description,job_qualification:data.job_qualification,job_type:data.job_type,job_tenure:data.job_tenure,job_status:data.job_status,company_name:data.company_name,company_city:data.company_city,salary_min:data.salary_min,salary_max:data.salary_max});});};var handleDelete=function handleDelete(event){var idData=parseInt(event.target.value);console.log(idData);axios.delete(\"https://dev-example.sanbercloud.com/api/job-vacancy/\".concat(idData),{headers:{Authorization:\"Bearer \"+Cookies.get(\"token\")}}).then(function(res){setFetchStatus(true);});};var handleSubmit=function handleSubmit(event){event.preventDefault();var title=input.title,company_image_url=input.company_image_url,job_description=input.job_description,job_qualification=input.job_qualification,job_type=input.job_type,job_tenure=input.job_tenure,job_status=input.job_status,company_name=input.company_name,company_city=input.company_city,salary_min=input.salary_min,salary_max=input.salary_max;if(currentId===-1){axios.post(\"https://dev-example.sanbercloud.com/api/job-vacancy\",{title:title,company_image_url:company_image_url,job_description:job_description,job_qualification:job_qualification,job_type:job_type,job_tenure:job_tenure,job_status:job_status,company_name:company_name,company_city:company_city,salary_min:salary_min,salary_max:salary_max},{headers:{Authorization:\"Bearer \"+Cookies.get(\"token\")}}).then(function(has){console.log(has);setFetchStatus(true);navigate(\"/dashboard/list-job-vacancy\");});}else{axios.put(\"https://dev-example.sanbercloud.com/api/job-vacancy/\".concat(currentId),{title:title,company_image_url:company_image_url,job_description:job_description,job_qualification:job_qualification,job_type:job_type,job_tenure:job_tenure,job_status:job_status,company_name:company_name,company_city:company_city,salary_min:salary_min,salary_max:salary_max},{headers:{Authorization:\"Bearer \"+Cookies.get(\"token\")}}).then(function(has){setFetchStatus(true);navigate(\"/dashboard/list-job-vacancy\");});}setCurrentId(-1);setInput({title:\"\",company_image_url:\"\",job_description:\"\",job_qualification:\"\",job_type:\"\",job_tenure:\"\",job_status:0,company_name:\"\",company_city:\"\",salary_min:0,salary_max:0});};var state={data:data,setData:setData,input:input,setInput:setInput,fetchStatus:fetchStatus,setFetchStatus:setFetchStatus};var handleFunction={handleDelete:handleDelete,handleInput:handleInput,handleEdit:handleEdit,handleSubmit:handleSubmit};return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{state:state,handleFunction:handleFunction},children:props.children});};","map":{"version":3,"names":["axios","Cookies","React","createContext","useEffect","useState","useNavigate","GlobalContext","GlobalProvider","props","navigate","data","setData","title","company_image_url","job_description","job_qualification","job_type","job_tenure","job_status","company_name","company_city","salary_min","salary_max","input","setInput","fetchStatus","setFetchStatus","currentId","setCurrentId","handleInput","event","name","target","value","handleEdit","idData","parseInt","get","then","res","handleDelete","console","log","delete","headers","Authorization","handleSubmit","preventDefault","post","has","put","state","handleFunction","children"],"sources":["D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/src/context/globalcontext.js"],"sourcesContent":["import axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport React, { createContext, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const GlobalContext = createContext();\r\n\r\nexport const GlobalProvider = (props) => {\r\n    let navigate = useNavigate();\r\n\r\n    const [data, setData] = useState(null);\r\n\r\n    const [input, setInput] = useState({\r\n        title: \"\",\r\n        company_image_url: \"\",\r\n        job_description: \"\",\r\n        job_qualification: \"\",\r\n        job_type: \"\",\r\n        job_tenure: \"\",\r\n        job_status: 0,\r\n        company_name: \"\",\r\n        company_city: \"\",\r\n        salary_min: 0,\r\n        salary_max: 0,\r\n    });\r\n\r\n    const [fetchStatus, setFetchStatus] = useState(true);\r\n\r\n    const [currentId, setCurrentId] = useState(-1);\r\n\r\n    // handleFunction\r\n    const handleInput = (event) => {\r\n        let name = event.target.name;\r\n        let value = event.target.value;\r\n\r\n        setInput({ ...input, [name]: value });\r\n    };\r\n\r\n    const handleEdit = (event) => {\r\n        let idData = parseInt(event.target.value);\r\n\r\n        setCurrentId(idData);\r\n        navigate(`/dashboard/list-job-vacancy/form/${idData}`);\r\n        axios.get(`https://dev-example.sanbercloud.com/api/job-vacancy/${idData}`).then((res) => {\r\n            let data = res.data;\r\n            setInput({\r\n                title: data.title,\r\n                company_image_url: data.company_image_url,\r\n                job_description: data.job_description,\r\n                job_qualification: data.job_qualification,\r\n                job_type: data.job_type,\r\n                job_tenure: data.job_tenure,\r\n                job_status: data.job_status,\r\n                company_name: data.company_name,\r\n                company_city: data.company_city,\r\n                salary_min: data.salary_min,\r\n                salary_max: data.salary_max,\r\n            });\r\n        });\r\n    };\r\n\r\n    const handleDelete = (event) => {\r\n        let idData = parseInt(event.target.value);\r\n\r\n        console.log(idData);\r\n\r\n        axios.delete(`https://dev-example.sanbercloud.com/api/job-vacancy/${idData}`, { headers: { Authorization: \"Bearer \" + Cookies.get(\"token\") } }).then((res) => {\r\n            setFetchStatus(true);\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        let { title, company_image_url, job_description, job_qualification, job_type, job_tenure, job_status, company_name, company_city, salary_min, salary_max } = input;\r\n\r\n        if (currentId === -1) {\r\n            axios\r\n                .post(\r\n                    `https://dev-example.sanbercloud.com/api/job-vacancy`,\r\n                    { title, company_image_url, job_description, job_qualification, job_type, job_tenure, job_status, company_name, company_city, salary_min, salary_max },\r\n                    { headers: { Authorization: \"Bearer \" + Cookies.get(\"token\") } }\r\n                )\r\n                .then((has) => {\r\n                    console.log(has);\r\n                    setFetchStatus(true);\r\n                    navigate(\"/dashboard/list-job-vacancy\");\r\n                });\r\n        } else {\r\n            axios\r\n                .put(\r\n                    `https://dev-example.sanbercloud.com/api/job-vacancy/${currentId}`,\r\n                    { title, company_image_url, job_description, job_qualification, job_type, job_tenure, job_status, company_name, company_city, salary_min, salary_max },\r\n                    { headers: { Authorization: \"Bearer \" + Cookies.get(\"token\") } }\r\n                )\r\n                .then((has) => {\r\n                    setFetchStatus(true);\r\n                    navigate(\"/dashboard/list-job-vacancy\");\r\n                });\r\n        }\r\n\r\n        setCurrentId(-1);\r\n\r\n        setInput({\r\n            title: \"\",\r\n            company_image_url: \"\",\r\n            job_description: \"\",\r\n            job_qualification: \"\",\r\n            job_type: \"\",\r\n            job_tenure: \"\",\r\n            job_status: 0,\r\n            company_name: \"\",\r\n            company_city: \"\",\r\n            salary_min: 0,\r\n            salary_max: 0,\r\n        });\r\n    };\r\n\r\n    let state = {\r\n        data,\r\n        setData,\r\n        input,\r\n        setInput,\r\n        fetchStatus,\r\n        setFetchStatus,\r\n    };\r\n\r\n    let handleFunction = {\r\n        handleDelete,\r\n        handleInput,\r\n        handleEdit,\r\n        handleSubmit,\r\n    };\r\n\r\n    return (\r\n        <GlobalContext.Provider\r\n            value={{\r\n                state,\r\n                handleFunction,\r\n            }}\r\n        >\r\n            {props.children}\r\n        </GlobalContext.Provider>\r\n    );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}