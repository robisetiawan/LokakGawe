{"ast":null,"code":"import _toConsumableArray from\"D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import axios from\"axios\";import React,{useContext,useEffect}from\"react\";import{GlobalContext}from\"../../context/globalcontext\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListData=function ListData(){var _useContext=useContext(GlobalContext),state=_useContext.state,handleFunction=_useContext.handleFunction;var data=state.data,setData=state.setData,fetchStatus=state.fetchStatus,setFetchStatus=state.setFetchStatus;var handleDelete=handleFunction.handleDelete,handleEdit=handleFunction.handleEdit;useEffect(function(){if(fetchStatus===true){axios.get(\" https://dev-example.sanbercloud.com/api/job-vacancy\").then(function(res){// console.log(res.data.data);\n// let results = res.data.data;\n// setData([...results]);\nsetData(_toConsumableArray(res.data.data));}).catch(function(err){});setFetchStatus(false);}},[fetchStatus,setFetchStatus]);var description=function description(str){if((str===null||str===void 0?void 0:str.length)<=20){return str;}return(str===null||str===void 0?void 0:str.slice(0,20))+\"...\";};var currency=function currency(number){if(number!==0){return new Intl.NumberFormat(\"id-ID\",{style:\"currency\",currency:\"IDR\",maximumSignificantDigits:3}).format(number);}else{return\"Free\";}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold my-5 text-xl\",children:\"List Data\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative overflow-x-auto shadow-md border rounded-lg border-tertiary\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"text-sm text-left text-gray-500 \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-xs text-quaternary uppercase bg-secondary \",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Logo\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Job Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Tenure\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"City\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Salary\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Qualification\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data!==null&&data.map(function(res,index){return/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"img\",{src:res.company_image_url})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:res.job_status===1?/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-500 text-quaternary p-1 rounded-lg font-semibold \",children:\"Open\"}):/*#__PURE__*/_jsx(\"span\",{className:\"bg-red-500 text-quaternary p-1 rounded-lg font-semibold \",children:\"Close\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:res.title}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:res.job_type}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:res.job_tenure}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:res.company_city}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4\",children:[currency(res.salary_min),\"(min)- \",currency(res.salary_max),\"(max)\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:res.company_name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:description(res.job_description)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:description(res.job_qualification)}),/*#__PURE__*/_jsxs(\"td\",{className:\"flex items-center px-6 py-4 space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,value:res.id,className:\"bg-emerald-500 text-slate-50 p-2 rounded\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,value:res.id,className:\"bg-red-500 text-slate-50 p-2 rounded\",children:\"Delete\"})]})]},res.id);})})]})})]});};export default ListData;","map":{"version":3,"names":["axios","React","useContext","useEffect","GlobalContext","ListData","state","handleFunction","data","setData","fetchStatus","setFetchStatus","handleDelete","handleEdit","get","then","res","catch","err","description","str","length","slice","currency","number","Intl","NumberFormat","style","maximumSignificantDigits","format","map","index","company_image_url","job_status","title","job_type","job_tenure","company_city","salary_min","salary_max","company_name","job_description","job_qualification","id"],"sources":["D:/Ngoding/Bootcamp/sanbercode-reactjs-batch-41/final-project/src/pages/data/ListData.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useContext, useEffect } from \"react\";\r\nimport { GlobalContext } from \"../../context/globalcontext\";\r\n\r\nconst ListData = () => {\r\n    const { state, handleFunction } = useContext(GlobalContext);\r\n\r\n    let { data, setData, fetchStatus, setFetchStatus } = state;\r\n    let { handleDelete, handleEdit } = handleFunction;\r\n\r\n    useEffect(() => {\r\n        if (fetchStatus === true) {\r\n            axios\r\n                .get(\" https://dev-example.sanbercloud.com/api/job-vacancy\")\r\n                .then((res) => {\r\n                    // console.log(res.data.data);\r\n                    // let results = res.data.data;\r\n                    // setData([...results]);\r\n                    setData([...res.data.data]);\r\n                })\r\n                .catch((err) => {});\r\n\r\n            setFetchStatus(false);\r\n        }\r\n    }, [fetchStatus, setFetchStatus]);\r\n\r\n    const description = (str) => {\r\n        if (str?.length <= 20) {\r\n            return str;\r\n        }\r\n        return str?.slice(0, 20) + \"...\";\r\n    };\r\n\r\n    const currency = (number) => {\r\n        if (number !== 0) {\r\n            return new Intl.NumberFormat(\"id-ID\", {\r\n                style: \"currency\",\r\n                currency: \"IDR\",\r\n                maximumSignificantDigits: 3,\r\n            }).format(number);\r\n        } else {\r\n            return \"Free\";\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"font-bold my-5 text-xl\">List Data</h1>\r\n            <div className=\"relative overflow-x-auto shadow-md border rounded-lg border-tertiary\">\r\n                <table className=\"text-sm text-left text-gray-500 \">\r\n                    <thead className=\"text-xs text-quaternary uppercase bg-secondary \">\r\n                        <tr>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                No\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Logo\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Status\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Job Name\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Type\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Tenure\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                City\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Salary\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Company\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Description\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Qualification\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3\">\r\n                                Action\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data !== null &&\r\n                            data.map((res, index) => {\r\n                                return (\r\n                                    <tr key={res.id} className=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\">\r\n                                        <th scope=\"row\" className=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">\r\n                                            {index + 1}\r\n                                        </th>\r\n\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <img src={res.company_image_url} />\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            {res.job_status === 1 ? (\r\n                                                <span className=\"bg-green-500 text-quaternary p-1 rounded-lg font-semibold \">Open</span>\r\n                                            ) : (\r\n                                                <span className=\"bg-red-500 text-quaternary p-1 rounded-lg font-semibold \">Close</span>\r\n                                            )}\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">{res.title}</td>\r\n                                        <td className=\"px-6 py-4\">{res.job_type}</td>\r\n                                        <td className=\"px-6 py-4\">{res.job_tenure}</td>\r\n                                        <td className=\"px-6 py-4\">{res.company_city}</td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            {currency(res.salary_min)}(min)- {currency(res.salary_max)}(max)\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">{res.company_name}</td>\r\n                                        <td className=\"px-6 py-4\">{description(res.job_description)}</td>\r\n                                        <td className=\"px-6 py-4\">{description(res.job_qualification)}</td>\r\n                                        <td className=\"flex items-center px-6 py-4 space-x-3\">\r\n                                            <button onClick={handleEdit} value={res.id} className=\"bg-emerald-500 text-slate-50 p-2 rounded\">\r\n                                                Edit\r\n                                            </button>\r\n                                            <button onClick={handleDelete} value={res.id} className=\"bg-red-500 text-slate-50 p-2 rounded\">\r\n                                                Delete\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ListData;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}